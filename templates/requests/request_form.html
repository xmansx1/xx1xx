<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>طلب خدمة – تطوع من أجلي</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50">
  <header class="bg-white border-b">
    <div class="max-w-4xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="font-extrabold text-emerald-700">تطوع من أجلي</div>
      <a href="{% url 'home' %}" class="text-sm text-slate-600 hover:text-slate-900">العودة للرئيسية</a>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-4 py-6">
    <h1 class="text-2xl font-extrabold text-slate-800 mb-4">طلب خدمة</h1>
    <p class="text-slate-600 mb-6">يرجى تعبئة البيانات التالية بدقة، وسيتم التواصل معك عبر المتطوع/الجهة المناسبة.</p>

    <form method="post" class="bg-white border rounded-2xl p-6 shadow-sm">
      {% csrf_token %}

      {% if messages %}
        <ul class="mb-4 text-sm">
          {% for m in messages %}
            <li class="px-3 py-2 rounded-lg {% if m.tags == 'success' %}bg-emerald-50 text-emerald-700{% else %}bg-rose-50 text-rose-700{% endif %}">{{ m }}</li>
          {% endfor %}
        </ul>
      {% endif %}

      {% if form.non_field_errors %}
        <div class="mb-3 text-sm text-rose-600">
          {% for e in form.non_field_errors %}<p>{{ e }}</p>{% endfor %}
        </div>
      {% endif %}

      <!-- honeypot -->
      {{ form.website }}

      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <label class="text-sm text-slate-700">الاسم</label>
          {{ form.name }}
          {% if form.name.errors %}<p class="text-sm text-rose-600">{{ form.name.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label class="text-sm text-slate-700">الجوال</label>
          {{ form.phone }}
          {% if form.phone.errors %}<p class="text-sm text-rose-600">{{ form.phone.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label class="text-sm text-slate-700">المدينة</label>
          {{ form.city }}
          {% if form.city.errors %}<p class="text-sm text-rose-600">{{ form.city.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label class="text-sm text-slate-700">نوع الخدمة</label>
          {{ form.type }}
          {% if form.type.errors %}<p class="text-sm text-rose-600">{{ form.type.errors.0 }}</p>{% endif %}
        </div>

        <div class="md:col-span-2">
          <label class="text-sm text-slate-700">الوصف</label>
          {{ form.desc }}
          <p class="text-xs text-slate-500 mt-1">رجاءً اذكر تفاصيل مختصرة: المكان، العدد، أي ملاحظات خاصة.</p>
          {% if form.desc.errors %}<p class="text-sm text-rose-600">{{ form.desc.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label class="text-sm text-slate-700">اليوم</label>
          {{ form.date }}
          {% if form.date.errors %}<p class="text-sm text-rose-600">{{ form.date.errors.0 }}</p>{% endif %}
        </div>

        <div>
          <label class="text-sm text-slate-700">الوقت</label>
          {{ form.time }}
          {% if form.time.errors %}<p class="text-sm text-rose-600">{{ form.time.errors.0 }}</p>{% endif %}
        </div>
      </div>

      <div class="flex items-center justify-end gap-2 mt-6">
        <a href="{% url 'home' %}" class="px-4 py-2 rounded-lg bg-white border border-slate-200 hover:bg-slate-50">إلغاء</a>
        <button class="px-5 py-2 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700">إرسال الطلب</button>
      </div>
    </form>

    <div class="text-sm text-slate-500 mt-4">
      * الطلب يُضاف بالحالة <b>بانتظار</b> وسيظهر للجهات والمتطوعين المؤهلين فقط.
    </div>
  </main>
</body>
</html>
